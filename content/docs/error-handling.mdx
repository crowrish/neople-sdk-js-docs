---
title: ì˜¤ë¥˜ ì²˜ë¦¬
description: Neople SDK JSì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ì™€ íš¨ê³¼ì ì¸ ì²˜ë¦¬ ë°©ë²•
---

# ì˜¤ë¥˜ ì²˜ë¦¬

SDKì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ì˜¤ë¥˜ ìƒí™©ê³¼ ì´ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.

## ì˜¤ë¥˜ íƒ€ì…

SDKì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì£¼ìš” ì˜¤ë¥˜ íƒ€ì…ë“¤ì…ë‹ˆë‹¤.

### HTTP ìƒíƒœ ì½”ë“œ ì˜¤ë¥˜

#### 401 Unauthorized - ì¸ì¦ ì‹¤íŒ¨

```typescript
import { NeopleDFClient } from 'neople-sdk-js';

try {
  const client = new NeopleDFClient('invalid-api-key');
  const result = await client.searchCharacter('í…ŒìŠ¤íŠ¸');
} catch (error) {
  if (error.status === 401) {
    console.error('API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
    // ì‚¬ìš©ìì—ê²Œ API í‚¤ ì¬ì…ë ¥ ìš”ì²­ ë˜ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
  }
}
```

#### 404 Not Found - ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ

```typescript
try {
  const character = await dfClient.getCharacter('cain', 'invalid-character-id');
} catch (error) {
  if (error.status === 404) {
    console.error('ìºë¦­í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    // ì‚¬ìš©ìì—ê²Œ ìºë¦­í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒì„ ì•Œë¦¼
  }
}
```

#### 429 Too Many Requests - ìš”ì²­ í•œë„ ì´ˆê³¼

```typescript
try {
  const result = await dfClient.searchCharacter('í…ŒìŠ¤íŠ¸');
} catch (error) {
  if (error.status === 429) {
    console.error('ìš”ì²­ í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
    // ì§€ìˆ˜ ë°±ì˜¤í”„ë¡œ ì¬ì‹œë„ êµ¬í˜„
    await new Promise(resolve => setTimeout(resolve, 5000));
    // ì¬ì‹œë„ ë¡œì§
  }
}
```

#### 500 Internal Server Error - ì„œë²„ ì˜¤ë¥˜

```typescript
try {
  const result = await dfClient.searchCharacter('í…ŒìŠ¤íŠ¸');
} catch (error) {
  if (error.status >= 500) {
    console.error('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
    // ì‚¬ìš©ìì—ê²Œ ì¼ì‹œì  ì˜¤ë¥˜ì„ì„ ì•Œë¦¬ê³  ì¬ì‹œë„ ìœ ë„
  }
}
```

### ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜

#### ì—°ê²° ì‹¤íŒ¨

```typescript
try {
  const result = await dfClient.searchCharacter('í…ŒìŠ¤íŠ¸');
} catch (error) {
  if (error.code === 'ECONNREFUSED' || error.code === 'ENOTFOUND') {
    console.error('ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
    // ì˜¤í”„ë¼ì¸ ëª¨ë“œë¡œ ì „í™˜ ë˜ëŠ” ì‚¬ìš©ìì—ê²Œ ì—°ê²° ìƒíƒœ í™•ì¸ ìš”ì²­
  }
}
```

#### íƒ€ì„ì•„ì›ƒ

```typescript
const client = new NeopleDFClient(apiKey, {
  timeout: 10000, // 10ì´ˆ íƒ€ì„ì•„ì›ƒ
  onTimeout: () => {
    console.log('ìš”ì²­ì´ ì‹œê°„ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.');
  }
});

try {
  const result = await client.searchCharacter('í…ŒìŠ¤íŠ¸');
} catch (error) {
  if (error.name === 'TimeoutError') {
    console.error('ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
  }
}
```

## ì¢…í•©ì ì¸ ì˜¤ë¥˜ ì²˜ë¦¬

### ê¸°ë³¸ ì˜¤ë¥˜ ì²˜ë¦¬ íŒ¨í„´

```typescript
import { NeopleDFClient } from 'neople-sdk-js';

async function handleApiCall<T>(
  apiCall: () => Promise<T>,
  fallbackValue?: T
): Promise<T | null> {
  try {
    return await apiCall();
  } catch (error) {
    // HTTP ì˜¤ë¥˜ ì²˜ë¦¬
    if (error.status) {
      switch (error.status) {
        case 401:
          console.error('ì¸ì¦ ì‹¤íŒ¨: API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”');
          // ì¸ì¦ ê´€ë ¨ ì²˜ë¦¬ (ì˜ˆ: ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸)
          break;
        
        case 403:
          console.error('ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤');
          break;
        
        case 404:
          console.error('ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
          break;
        
        case 429:
          console.error('ìš”ì²­ í•œë„ ì´ˆê³¼: ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”');
          // ì¬ì‹œë„ ë¡œì§ êµ¬í˜„
          break;
        
        case 500:
        case 502:
        case 503:
        case 504:
          console.error('ì„œë²„ ì˜¤ë¥˜: ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”');
          break;
        
        default:
          console.error(`ì˜ˆìƒì¹˜ ëª»í•œ HTTP ì˜¤ë¥˜: ${error.status} ${error.statusText}`);
      }
    }
    // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬
    else if (error.code) {
      switch (error.code) {
        case 'ECONNREFUSED':
        case 'ENOTFOUND':
        case 'ECONNRESET':
          console.error('ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì˜¤ë¥˜: ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”');
          break;
        
        case 'ETIMEDOUT':
          console.error('ìš”ì²­ ì‹œê°„ ì´ˆê³¼: ë„¤íŠ¸ì›Œí¬ê°€ ëŠë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤');
          break;
        
        default:
          console.error(`ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ${error.code}`);
      }
    }
    // ê¸°íƒ€ ì˜¤ë¥˜
    else {
      console.error('ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜:', error.message);
    }
    
    return fallbackValue || null;
  }
}

// ì‚¬ìš© ì˜ˆì œ
const character = await handleApiCall(
  () => dfClient.getCharacter('cain', 'character-id'),
  null // ì˜¤ë¥˜ ì‹œ ë°˜í™˜í•  ê¸°ë³¸ê°’
);
```

### ì¬ì‹œë„ ë¡œì§ êµ¬í˜„

```typescript
async function withRetry<T>(
  apiCall: () => Promise<T>,
  maxRetries: number = 3,
  baseDelay: number = 1000
): Promise<T> {
  let lastError: Error;
  
  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      return await apiCall();
    } catch (error) {
      lastError = error;
      
      // ì¬ì‹œë„í•˜ì§€ ì•Šì„ ì˜¤ë¥˜ë“¤
      if (error.status === 401 || error.status === 403 || error.status === 404) {
        throw error;
      }
      
      // ë§ˆì§€ë§‰ ì‹œë„ì˜€ë‹¤ë©´ ì˜¤ë¥˜ ë°œìƒ
      if (attempt === maxRetries) {
        break;
      }
      
      // ì§€ìˆ˜ ë°±ì˜¤í”„ë¡œ ëŒ€ê¸°
      const delay = baseDelay * Math.pow(2, attempt - 1);
      console.log(`ì¬ì‹œë„ ${attempt}/${maxRetries} - ${delay}ms í›„ ì¬ì‹œë„`);
      await new Promise(resolve => setTimeout(resolve, delay));
    }
  }
  
  throw lastError;
}

// ì‚¬ìš© ì˜ˆì œ
try {
  const result = await withRetry(
    () => dfClient.searchCharacter('í…ŒìŠ¤íŠ¸'),
    3, // ìµœëŒ€ 3ë²ˆ ì¬ì‹œë„
    1000 // 1ì´ˆ ê¸°ë³¸ ëŒ€ê¸°ì‹œê°„
  );
  console.log(result);
} catch (error) {
  console.error('ëª¨ë“  ì¬ì‹œë„ ì‹¤íŒ¨:', error.message);
}
```

### ì „ì—­ ì˜¤ë¥˜ í•¸ë“¤ëŸ¬

```typescript
import { NeopleDFClient, NeopleCyphersClient } from 'neople-sdk-js';

// ì „ì—­ ì˜¤ë¥˜ ì²˜ë¦¬ í•¨ìˆ˜
function createGlobalErrorHandler() {
  return (error: Error) => {
    // ë¡œê¹… ì„œë¹„ìŠ¤ì— ì˜¤ë¥˜ ì „ì†¡
    console.error('API ì˜¤ë¥˜ ë°œìƒ:', {
      message: error.message,
      status: error.status,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent
    });
    
    // ì˜¤ë¥˜ ì¶”ì  ì„œë¹„ìŠ¤ì— ì „ì†¡ (ì˜ˆ: Sentry)
    // Sentry.captureException(error);
    
    // ì‚¬ìš©ìì—ê²Œ ì¹œí™”ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
    showUserFriendlyError(error);
  };
}

function showUserFriendlyError(error: Error) {
  let message = 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
  
  if (error.status === 401) {
    message = 'API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
  } else if (error.status === 404) {
    message = 'ìš”ì²­í•œ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
  } else if (error.status === 429) {
    message = 'ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
  } else if (error.status >= 500) {
    message = 'ì„œë²„ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
  } else if (error.code && error.code.startsWith('E')) {
    message = 'ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.';
  }
  
  // UIì— ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ (ì˜ˆ: í† ìŠ¤íŠ¸, ëª¨ë‹¬ ë“±)
  // toast.error(message);
  console.error(message);
}

// í´ë¼ì´ì–¸íŠ¸ ì„¤ì • ì‹œ ì „ì—­ ì˜¤ë¥˜ í•¸ë“¤ëŸ¬ ì ìš©
const dfClient = new NeopleDFClient(apiKey, {
  onError: createGlobalErrorHandler()
});

const cyphersClient = new NeopleCyphersClient(apiKey, {
  onError: createGlobalErrorHandler()
});
```

## Reactì—ì„œì˜ ì˜¤ë¥˜ ì²˜ë¦¬

### ì»¤ìŠ¤í…€ í›…

```typescript
import { useState, useCallback } from 'react';
import { NeopleDFClient } from 'neople-sdk-js';

interface ApiState<T> {
  data: T | null;
  loading: boolean;
  error: string | null;
}

function useApi<T>() {
  const [state, setState] = useState<ApiState<T>>({
    data: null,
    loading: false,
    error: null
  });
  
  const execute = useCallback(async (apiCall: () => Promise<T>) => {
    setState({ data: null, loading: true, error: null });
    
    try {
      const data = await apiCall();
      setState({ data, loading: false, error: null });
      return data;
    } catch (error) {
      let errorMessage = 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
      
      if (error.status === 401) {
        errorMessage = 'API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
      } else if (error.status === 404) {
        errorMessage = 'ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
      } else if (error.status === 429) {
        errorMessage = 'ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
      } else if (error.status >= 500) {
        errorMessage = 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
      }
      
      setState({ data: null, loading: false, error: errorMessage });
      throw error;
    }
  }, []);
  
  return { ...state, execute };
}

// ì‚¬ìš© ì˜ˆì œ
function CharacterSearch() {
  const { data, loading, error, execute } = useApi();
  const [characterName, setCharacterName] = useState('');
  
  const handleSearch = async () => {
    if (!characterName.trim()) return;
    
    try {
      await execute(() => dfClient.searchCharacter(characterName));
    } catch (error) {
      // ì˜¤ë¥˜ëŠ” ì´ë¯¸ stateì— ì €ì¥ë¨
    }
  };
  
  return (
    <div>
      <input
        value={characterName}
        onChange={(e) => setCharacterName(e.target.value)}
        placeholder="ìºë¦­í„° ì´ë¦„ ì…ë ¥"
      />
      <button onClick={handleSearch} disabled={loading}>
        {loading ? 'ê²€ìƒ‰ ì¤‘...' : 'ê²€ìƒ‰'}
      </button>
      
      {error && <div className="error">{error}</div>}
      {data && <div>ê²€ìƒ‰ ê²°ê³¼: {data.rows.length}ê°œ</div>}
    </div>
  );
}
```

### Error Boundary

```typescript
import React, { Component, ReactNode } from 'react';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error?: Error;
}

class ApiErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false };
  }
  
  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }
  
  componentDidCatch(error: Error, errorInfo: any) {
    console.error('API Error Boundary caught an error:', error, errorInfo);
    
    // ì˜¤ë¥˜ ì¶”ì  ì„œë¹„ìŠ¤ì— ì „ì†¡
    // Sentry.captureException(error, { extra: errorInfo });
  }
  
  render() {
    if (this.state.hasError) {
      return this.props.fallback || (
        <div className="error-boundary">
          <h2>ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h2>
          <p>í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
          <button onClick={() => this.setState({ hasError: false })}>
            ë‹¤ì‹œ ì‹œë„
          </button>
        </div>
      );
    }
    
    return this.props.children;
  }
}

// ì‚¬ìš© ì˜ˆì œ
function App() {
  return (
    <ApiErrorBoundary>
      <CharacterSearch />
    </ApiErrorBoundary>
  );
}
```

## ê°œë°œ í™˜ê²½ì—ì„œì˜ ë””ë²„ê¹…

### ìƒì„¸ ë¡œê¹…

```typescript
const client = new NeopleDFClient(apiKey, {
  debug: process.env.NODE_ENV === 'development',
  onRequest: (url, options) => {
    if (process.env.NODE_ENV === 'development') {
      console.log('ğŸš€ API Request:', {
        url,
        method: options.method || 'GET',
        headers: options.headers,
        timestamp: new Date().toISOString()
      });
    }
  },
  onResponse: (response) => {
    if (process.env.NODE_ENV === 'development') {
      console.log('âœ… API Response:', {
        status: response.status,
        statusText: response.statusText,
        headers: response.headers,
        timestamp: new Date().toISOString()
      });
    }
  },
  onError: (error) => {
    if (process.env.NODE_ENV === 'development') {
      console.error('âŒ API Error:', {
        message: error.message,
        status: error.status,
        response: error.response,
        stack: error.stack,
        timestamp: new Date().toISOString()
      });
    } else {
      // í”„ë¡œë•ì…˜ì—ì„œëŠ” ê°„ë‹¨í•œ ë¡œê¹…
      console.error('API Error:', error.message);
    }
  }
});
```

### ëª¨ì˜ ì˜¤ë¥˜ ìƒì„± (í…ŒìŠ¤íŠ¸ìš©)

```typescript
// í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì˜ë„ì ìœ¼ë¡œ ì˜¤ë¥˜ ë°œìƒ
if (process.env.NODE_ENV === 'test') {
  const mockClient = {
    searchCharacter: async (name: string) => {
      // íŠ¹ì • ì´ë¦„ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜ ë°œìƒ
      if (name === 'test-401') {
        throw { status: 401, message: 'Unauthorized' };
      }
      if (name === 'test-429') {
        throw { status: 429, message: 'Too Many Requests' };
      }
      if (name === 'test-network') {
        throw { code: 'ECONNREFUSED', message: 'Connection refused' };
      }
      
      // ì •ìƒ ì‘ë‹µ
      return { rows: [{ characterName: name }] };
    }
  };
}
```

## ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

### ì˜¤ë¥˜ ì¶”ì 

```typescript
interface ErrorMetrics {
  errorCount: number;
  errorsByType: Record<string, number>;
  lastError?: {
    message: string;
    timestamp: Date;
    status?: number;
  };
}

class ErrorTracker {
  private metrics: ErrorMetrics = {
    errorCount: 0,
    errorsByType: {}
  };
  
  trackError(error: Error) {
    this.metrics.errorCount++;
    
    const errorType = error.status ? `HTTP_${error.status}` : error.code || 'UNKNOWN';
    this.metrics.errorsByType[errorType] = (this.metrics.errorsByType[errorType] || 0) + 1;
    
    this.metrics.lastError = {
      message: error.message,
      timestamp: new Date(),
      status: error.status
    };
    
    // ì„ê³„ê°’ ì´ˆê³¼ ì‹œ ì•Œë¦¼
    if (this.metrics.errorCount > 10) {
      this.sendAlert();
    }
  }
  
  private sendAlert() {
    console.warn('ì˜¤ë¥˜ ë°œìƒ íšŸìˆ˜ê°€ ì„ê³„ê°’ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤:', this.metrics);
    // ì‹¤ì œ ì•Œë¦¼ ì„œë¹„ìŠ¤ ì—°ë™ (ì˜ˆ: Slack, ì´ë©”ì¼ ë“±)
  }
  
  getMetrics(): ErrorMetrics {
    return { ...this.metrics };
  }
  
  reset() {
    this.metrics = { errorCount: 0, errorsByType: {} };
  }
}

const errorTracker = new ErrorTracker();

// í´ë¼ì´ì–¸íŠ¸ì— ì ìš©
const client = new NeopleDFClient(apiKey, {
  onError: (error) => {
    errorTracker.trackError(error);
  }
});
```

## ëª¨ë²” ì‚¬ë¡€

### 1. ì‚¬ìš©ì ì¹œí™”ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€

```typescript
function getErrorMessage(error: Error): string {
  const messages = {
    401: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    403: 'ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.',
    404: 'ìš”ì²­í•œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
    429: 'ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.',
    500: 'ì„œë²„ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.',
    503: 'ì„œë¹„ìŠ¤ê°€ ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'
  };
  
  return messages[error.status] || 'ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
}
```

### 2. ì ì§„ì  ì„±ëŠ¥ ì €í•˜

```typescript
async function getCharacterWithFallback(serverId: string, characterId: string) {
  try {
    // 1ì°¨ ì‹œë„: ì „ì²´ ìºë¦­í„° ì •ë³´
    return await dfClient.getCharacter(serverId, characterId);
  } catch (error) {
    if (error.status === 500) {
      try {
        // 2ì°¨ ì‹œë„: ê¸°ë³¸ ìºë¦­í„° ì •ë³´ë§Œ
        const searchResult = await dfClient.searchCharacter(characterId);
        return searchResult.rows.find(char => char.characterId === characterId);
      } catch (fallbackError) {
        // 3ì°¨ ì‹œë„: ìºì‹œëœ ë°ì´í„° ë˜ëŠ” ê¸°ë³¸ê°’
        return getCachedCharacterData(characterId) || {
          characterId,
          characterName: 'ì•Œ ìˆ˜ ì—†ìŒ',
          level: 0
        };
      }
    }
    throw error;
  }
}
```

### 3. ì˜¤ë¥˜ ìƒíƒœ ê´€ë¦¬

```typescript
// ì „ì—­ ìƒíƒœ ê´€ë¦¬ (ì˜ˆ: Redux, Zustand)
interface AppState {
  errors: {
    network: boolean;
    auth: boolean;
    server: boolean;
  };
  retryCount: number;
}

function errorReducer(state: AppState, action: any) {
  switch (action.type) {
    case 'SET_NETWORK_ERROR':
      return { ...state, errors: { ...state.errors, network: true } };
    case 'SET_AUTH_ERROR':
      return { ...state, errors: { ...state.errors, auth: true } };
    case 'CLEAR_ERRORS':
      return { ...state, errors: { network: false, auth: false, server: false } };
    case 'INCREMENT_RETRY':
      return { ...state, retryCount: state.retryCount + 1 };
    default:
      return state;
  }
}
```

ì´ëŸ¬í•œ ì˜¤ë¥˜ ì²˜ë¦¬ íŒ¨í„´ì„ í†µí•´ ì•ˆì •ì ì´ê³  ì‚¬ìš©ì ì¹œí™”ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.