---
title: Got ì–´ëŒ‘í„°
description: Got HTTP í´ë¼ì´ì–¸íŠ¸ ì–´ëŒ‘í„° ì„¤ì • ë° ì‚¬ìš©ë²• (Node.js ì „ìš©)
---

# Got ì–´ëŒ‘í„°

Got HTTP í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” Node.js ì „ìš© ì–´ëŒ‘í„°ì…ë‹ˆë‹¤. ê³ ì„±ëŠ¥ê³¼ í’ë¶€í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ì„¤ì¹˜

ë¨¼ì € gotì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤:

```bash
npm install got
# ë˜ëŠ”
yarn add got
```

## ê¸°ë³¸ ì‚¬ìš©ë²•

```typescript
import { NeopleDFClient, NeopleCyphersClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
});
```

## ì‚¬ìš©ì ì§€ì • Got ì¸ìŠ¤í„´ìŠ¤

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const customGot = got.extend({
  timeout: {
    request: 30000,
  },
  headers: {
    'User-Agent': 'MyApp/1.0.0',
  },
  retry: {
    limit: 3,
    methods: ['GET', 'POST'],
  },
});

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: customGot,
});
```

## ê³ ê¸‰ ì„¤ì •

### ì¬ì‹œë„ ì •ì±…

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    retry: {
      limit: 5,
      methods: ['GET', 'POST', 'PUT', 'DELETE'],
      statusCodes: [408, 413, 429, 500, 502, 503, 504, 521, 522, 524],
      errorCodes: [
        'ETIMEDOUT',
        'ECONNRESET',
        'EADDRINUSE',
        'ECONNREFUSED',
        'EPIPE',
        'ENOTFOUND',
        'ENETUNREACH',
        'EAI_AGAIN',
      ],
      calculateDelay: ({ attemptCount }) => {
        // ì§€ìˆ˜ ë°±ì˜¤í”„ êµ¬í˜„
        return Math.min(1000 * Math.pow(2, attemptCount - 1), 30000);
      },
    },
  }),
});
```

### í›…(Hooks) ì‚¬ìš©

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    hooks: {
      beforeRequest: [
        options => {
          console.log('ìš”ì²­ ì „ì†¡:', options.url?.toString());
          console.log('í—¤ë”:', options.headers);
        },
      ],
      afterResponse: [
        response => {
          console.log('ì‘ë‹µ ë°›ìŒ:', response.statusCode);
          return response;
        },
      ],
      beforeError: [
        error => {
          console.error('ì˜¤ë¥˜ ë°œìƒ:', error.message);
          return error;
        },
      ],
    },
  }),
});
```

## ìºì‹±

### ì¸ë©”ëª¨ë¦¬ ìºì‹±

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const cache = new Map();

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    cache: cache,
    cacheOptions: {
      shared: false,
      cacheHeuristic: 0.1,
      immutableMinTimeToLive: 24 * 3600 * 1000, // 24ì‹œê°„
      ignoreCargoCult: false,
    },
  }),
});
```

## í”„ë¡ì‹œ ì„¤ì •

### HTTP/HTTPS í”„ë¡ì‹œ

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    agent: {
      http: new HttpsProxyAgent('http://proxy.example.com:8080'),
      https: new HttpsProxyAgent('https://proxy.example.com:8080'),
    },
  }),
});
```

### SOCKS í”„ë¡ì‹œ

```bash
npm install socks-proxy-agent
```

```typescript
import got from 'got';
import { SocksProxyAgent } from 'socks-proxy-agent';
import { NeopleDFClient } from 'neople-sdk-js';

const socksAgent = new SocksProxyAgent('socks5://127.0.0.1:1080');

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    agent: {
      http: socksAgent,
      https: socksAgent,
    },
  }),
});
```

## íƒ€ì„ì•„ì›ƒ ì„¤ì •

### ì„¸ë¶„í™”ëœ íƒ€ì„ì•„ì›ƒ

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    timeout: {
      lookup: 100, // DNS ì¡°íšŒ
      connect: 50, // ì†Œì¼“ ì—°ê²°
      secureConnect: 50, // TLS í•¸ë“œì…°ì´í¬
      socket: 1000, // ì†Œì¼“ ë¹„í™œì„±
      send: 10000, // ìš”ì²­ ì „ì†¡
      response: 1000, // ì²« ë²ˆì§¸ ì‘ë‹µ ë°”ì´íŠ¸
      request: 30000, // ì „ì²´ ìš”ì²­
    },
  }),
});
```

## HTTP/2 ì§€ì›

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    http2: true,
    allowH2: true,
  }),
});
```

## ì—ëŸ¬ ì²˜ë¦¬

### ìƒì„¸í•œ ì—ëŸ¬ ì •ë³´

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  onError: error => {
    if (error instanceof got.HTTPError) {
      console.error('HTTP ì—ëŸ¬:', {
        statusCode: error.response.statusCode,
        statusMessage: error.response.statusMessage,
        headers: error.response.headers,
        body: error.response.body,
      });
    } else if (error instanceof got.RequestError) {
      console.error('ìš”ì²­ ì—ëŸ¬:', error.message);
    } else if (error instanceof got.TimeoutError) {
      console.error('íƒ€ì„ì•„ì›ƒ ì—ëŸ¬:', error.message);
    }
  },
});
```

## ì„±ëŠ¥ ìµœì í™”

### Keep-Alive ì—°ê²°

```typescript
import got from 'got';
import http from 'http';
import https from 'https';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    agent: {
      http: new http.Agent({
        keepAlive: true,
        keepAliveMsecs: 1000,
        maxSockets: 10,
        maxFreeSockets: 10,
      }),
      https: new https.Agent({
        keepAlive: true,
        keepAliveMsecs: 1000,
        maxSockets: 10,
        maxFreeSockets: 10,
      }),
    },
  }),
});
```

## ë””ë²„ê¹…

### ìƒì„¸ ë¡œê¹…

```typescript
import got from 'got';
import { NeopleDFClient } from 'neople-sdk-js';

const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    hooks: {
      beforeRequest: [
        options => {
          console.log('ğŸš€ ìš”ì²­ ì‹œì‘:', {
            method: options.method,
            url: options.url?.toString(),
            headers: options.headers,
          });
        },
      ],
      afterResponse: [
        response => {
          console.log('âœ…ì‘ë‹µ ì™„ë£Œ:', {
            statusCode: response.statusCode,
            headers: response.headers,
            timing: response.timings,
          });
          return response;
        },
      ],
    },
  }),
});
```

## ë§ˆì´ê·¸ë ˆì´ì…˜

### Axiosì—ì„œ Gotìœ¼ë¡œ

```typescript
// Before (Axios)
const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'axios',
  axiosInstance: axios.create({
    timeout: 30000,
    proxy: {
      host: 'proxy.example.com',
      port: 8080,
    },
  }),
});

// After (Got)
const client = new NeopleDFClient(apiKey, {
  httpAdapter: 'got',
  gotInstance: got.extend({
    timeout: {
      request: 30000,
    },
    agent: {
      https: new HttpsProxyAgent('http://proxy.example.com:8080'),
    },
  }),
});
```
